{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/jake_ext/GitHub/my-community-listing-v1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Axios from\"axios\";import{Link}from\"react-router-dom\";import{withRouter}from\"react-router-dom\";import Price from\"../components/Price\";var Detail=/*#__PURE__*/function(_React$Component){_inherits(Detail,_React$Component);var _super=_createSuper(Detail);function Detail(props){var _this;_classCallCheck(this,Detail);_this=_super.call(this,props);_this.getHome=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$Axios$get,data,key,_id,__id,price,present,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes\");case 2:_yield$Axios$get=_context.sent;data=_yield$Axios$get.data;key=\"id\";_id=_this.props.match.params.id;__id=_defineProperty({},key,_id);console.log(__id);console.log(__id.id);console.log(data);_this.setState({homes:data});console.log(data[0].communityId);price=0;present=[];for(i=0;i<data.length;i++){if(data[i].communityId===__id.id){price=price+data[i].price;present.push(data[i]);}}console.log(present);_this.setState({present:present});console.log(_this.state.present);// avg price\nprice=Math.round(price/_this.state.present.length);console.log(_this.state.present.length);console.log(price);_this.setState({price:price});console.log(_this.state.price);case 23:case\"end\":return _context.stop();}}},_callee);}));_this.state={homes:[],price:0,present:[]};return _this;}_createClass(Detail,[{key:\"componentDidMount\",value:function componentDidMount(){this.getHome();}},{key:\"render\",value:function render(){var price=this.state.price;var present=this.state.present;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/\"},className:\"btn btn-outline-warning\"},\"Back\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"text-center\"},\"Listing\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-right alert alert-warning\",role:\"alert\"},\"The average price of all the homes of this community : $\",price),/*#__PURE__*/React.createElement(\"div\",null,present.map(function(p){return/*#__PURE__*/React.createElement(Price,{key:p.id,id:p.id,communityId:p.communityId,price:p.price,area:p.area,type:p.type});}))));}}]);return Detail;}(React.Component);export default withRouter(Detail);","map":{"version":3,"sources":["/Volumes/jake_ext/GitHub/my-community-listing-v1/src/routes/Detail.js"],"names":["React","Axios","Link","withRouter","Price","Detail","props","getHome","get","data","key","_id","match","params","id","__id","console","log","setState","homes","communityId","price","present","i","length","push","state","Math","round","pathname","map","p","area","type","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nimport Price from \"../components/Price\";\n\nclass Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homes: [],\n      price: 0,\n      present: []\n    };\n  }\n\n  getHome = async () => {\n    const { data } = await Axios.get(\n      \"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes\"\n    );\n\n    const key = \"id\";\n    const _id = this.props.match.params.id;\n    const __id = { [key]: _id };\n    console.log(__id);\n    console.log(__id.id);\n\n    console.log(data);\n    this.setState({ homes: data });\n    console.log(data[0].communityId);\n\n    let price = 0;\n    let present = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].communityId === __id.id) {\n        price = price + data[i].price;\n        present.push(data[i]);\n      }\n    }\n    console.log(present);\n    this.setState({ present: present });\n    console.log(this.state.present);\n\n    // avg price\n    price = Math.round(price / this.state.present.length);\n    console.log(this.state.present.length);\n\n    console.log(price);\n    this.setState({ price: price });\n    console.log(this.state.price);\n  };\n\n  componentDidMount() {\n    this.getHome();\n  }\n\n  render() {\n    const { price } = this.state;\n    const { present } = this.state;\n\n    return (\n      <div className=\"container\">\n        <div className=\"text-right\">\n          <Link\n            to={{\n              pathname: `/`\n            }}\n            className=\"btn btn-outline-warning\"\n          >\n            Back\n          </Link>\n        </div>\n        <div>\n          <h3 className=\"text-center\">Listing</h3>\n          <p className=\"text-right alert alert-warning\" role=\"alert\">\n            The average price of all the homes of this community : ${price}\n          </p>\n          <div>\n            {present.map(p => (\n              <Price\n                key={p.id}\n                id={p.id}\n                communityId={p.communityId}\n                price={p.price}\n                area={p.area}\n                type={p.type}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Detail);\n"]},"metadata":{},"sourceType":"module"}