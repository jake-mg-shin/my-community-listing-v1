{"ast":null,"code":"var _jsxFileName = \"/Volumes/jake_ext/GitHub/my-community-listing-v1/src/routes/Detail.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nimport Price from \"../components/Price\";\n\nclass Detail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getHome = async () => {\n      const {\n        data\n      } = await Axios.get(\"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes\");\n      const key = \"id\";\n      const _id = this.props.match.params.id;\n      const __id = {\n        [key]: _id\n      };\n      console.log(__id);\n      console.log(__id.id);\n      console.log(data);\n      this.setState({\n        homes: data\n      });\n      console.log(data[0].communityId);\n      let price = 0;\n      let present = [];\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].communityId === __id.id) {\n          price = price + data[i].price;\n          present.push(data[i]);\n        }\n      }\n\n      console.log(present);\n      this.setState({\n        present: present\n      });\n      console.log(this.state.present); // avg price\n\n      price = Math.round(price / this.state.present.length);\n      console.log(this.state.present.length);\n      console.log(price);\n      this.setState({\n        price: price\n      });\n      console.log(this.state.price);\n    };\n\n    this.state = {\n      homes: [],\n      price: 0,\n      present: []\n    };\n  }\n\n  componentDidMount() {\n    this.getHome();\n  }\n\n  render() {\n    const {\n      price\n    } = this.state;\n    const {\n      present\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/`\n      },\n      className: \"btn btn-outline-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"Back\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Listing\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-right alert alert-warning\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"The average price of all the homes of this community : $\", price), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, present.map(p => /*#__PURE__*/React.createElement(Price, {\n      key: p.id,\n      id: p.id,\n      communityId: p.communityId,\n      price: p.price,\n      area: p.area,\n      type: p.type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default withRouter(Detail);","map":{"version":3,"sources":["/Volumes/jake_ext/GitHub/my-community-listing-v1/src/routes/Detail.js"],"names":["React","Axios","Link","withRouter","Price","Detail","Component","constructor","props","getHome","data","get","key","_id","match","params","id","__id","console","log","setState","homes","communityId","price","present","i","length","push","state","Math","round","componentDidMount","render","pathname","map","p","area","type"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nimport Price from \"../components/Price\";\n\nclass Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homes: [],\n      price: 0,\n      present: []\n    };\n  }\n\n  getHome = async () => {\n    const { data } = await Axios.get(\n      \"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes\"\n    );\n\n    const key = \"id\";\n    const _id = this.props.match.params.id;\n    const __id = { [key]: _id };\n    console.log(__id);\n    console.log(__id.id);\n\n    console.log(data);\n    this.setState({ homes: data });\n    console.log(data[0].communityId);\n\n    let price = 0;\n    let present = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].communityId === __id.id) {\n        price = price + data[i].price;\n        present.push(data[i]);\n      }\n    }\n    console.log(present);\n    this.setState({ present: present });\n    console.log(this.state.present);\n\n    // avg price\n    price = Math.round(price / this.state.present.length);\n    console.log(this.state.present.length);\n\n    console.log(price);\n    this.setState({ price: price });\n    console.log(this.state.price);\n  };\n\n  componentDidMount() {\n    this.getHome();\n  }\n\n  render() {\n    const { price } = this.state;\n    const { present } = this.state;\n\n    return (\n      <div className=\"container\">\n        <div className=\"text-right\">\n          <Link\n            to={{\n              pathname: `/`\n            }}\n            className=\"btn btn-outline-warning\"\n          >\n            Back\n          </Link>\n        </div>\n        <div>\n          <h3 className=\"text-center\">Listing</h3>\n          <p className=\"text-right alert alert-warning\" role=\"alert\">\n            The average price of all the homes of this community : ${price}\n          </p>\n          <div>\n            {present.map(p => (\n              <Price\n                key={p.id}\n                id={p.id}\n                communityId={p.communityId}\n                price={p.price}\n                area={p.area}\n                type={p.type}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Detail);\n"]},"metadata":{},"sourceType":"module"}